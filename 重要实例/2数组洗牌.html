<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script>
		// 数组不变式/循环不变式
		// |---未操作---|---已经操作---|
		//             i
		// 洗牌算法 => 随机打乱一个数组

		// 每次循环拿到随机拿到一个可用索引
		// 和未操作部分的最后一项做交换
		// 已操作部分就加一 未操作部分减一
		// 初始化 |----整个数组----|i|
		var arr = [1, 2, 3, 4, 5];
		var len = arr.length;// 5
		for (var i = arr.length - 1; i >= 0; i--) {
		    var index = Math.floor(Math.random() * len); // 0 1 2 3 4
		    var temp = arr[i]; 
		    arr[i] = arr[index];
		    arr[index] = temp;
		    //arr[index] = arr[i];
		    len--
		}
		alert(arr)
		// 1. 在可用索引中随机取一个值 |---取索引---|--已经洗好牌的--|
		// 2. 将取到的索引所在的值和未洗牌的最后一项调换位置
		// (未洗牌数量-1/ 可用的索引-1)
		// arr = [1, 2, 3, 4, 5];
		// function ful(arr) {
		//     var len = arr.length; // 5
		//     while (len > 0) {
		//         var index = Math.floor(Math.random() * len); // 0 1 2 3 4
		//         var temp = arr[len - 1]; // 4
		//         arr[len - 1] = arr[index];
		//         arr[index] = temp;
		//         len--
		//     }
		//     return arr;
		// }
		// var total = 0;
		// arr = [1, 2, 3, 4, 5]; // 0.2
		// for (var i = 0; i < 999999; i++) {
		//     var result = ful(arr);
		//     if (result[1] === 2) {
		//         total++;
		//     }
		// }
		// console.log(total/999999); // 0.2左右
	
	</script>
</body>
</html>